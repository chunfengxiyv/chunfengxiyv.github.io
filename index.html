---
layout: default
title: { { site.name } }
---

<div id="home2">
  <div id="all" style="display: none;">
    <ul class="arc-list">
      {% for post in site.posts %}
      <li>
        <a href="{{ site.baseurl }}{{ post.url }}"
          >{{ post.url | last }}{{ post.title }}</a
        >
        <br />
        <p style="position: relative;top: 1em;margin: 0;">{{ post.date | date: "%Y-%m-%d" }}</p>
      </li>
      {% endfor %}
    </ul>
  </div>
  {% for category in site.categories %}
  <div id="{{ category | first }}" style="display: none;">
    <h2>{{ category | first }}</h2>
    {% for post in category.last %}
    <li>
      {{ post.date | date: "%Y-%m-%d" }} &raquo;
      <a href="{{ site.baseurl }}{{ post.url }}"
        >{{ post.url | last }}{{ post.title }}</a
      >
    </li>
    {% endfor %}
  </div>
  {% endfor %}
</div>
<script type="text/javascript">
  key = document.URL.split("#")[1];
  if(!key)key="all"
  ;[].forEach.call(document.getElementsByTagName("h2"), function(e) {
    if (category[e.innerText]) e.innerHTML = category[e.innerText];
  });

  document.getElementById(key).style.display = "";
  function highLight() {
    [].forEach.call(document.getElementsByTagName("a"), function(e) {
      if (e.href.split("#")[1] == key) {
        e.style.background = "#f00";
      } else {
        e.style.background = "#fff";
      }
    });
  }
  highLight();
  window.addEventListener(
    "hashchange",
    function(e) {
      key = document.URL.split("#")[1];
      highLight();
      document.getElementById(e.oldURL.split("#")[1]).style.display = "none";
      document.getElementById(e.newURL.split("#")[1]).style.display = "";
    },
    false
  );
</script>
